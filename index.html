<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basket Lab: Mutual Fund Backtesting & Portfolio Allocation Analyzer</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Backtest Indian mutual fund baskets and analyze portfolio allocations. Compare different allocation strategies, CAGR, XIRR, and drawdowns with historical data. Test SIP and lumpsum investments.">
    <meta name="keywords" content="mutual fund backtesting, portfolio allocation analysis, mutual fund basket, portfolio collection, Indian mutual funds, SIP calculator, lumpsum investment, CAGR calculator, XIRR calculator, portfolio analyzer, investment basket, fund allocation, mutual fund comparison, backtesting tool, portfolio backtesting, basket analysis, allocation strategy">
    <meta name="author" content="Mutual Fund Basket Analyzer">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Basket Lab - Mutual Fund Backtesting & Portfolio Allocation Analyzer">
    <meta property="og:description" content="Backtest Indian mutual fund baskets and analyze portfolio allocations. Compare different allocation strategies with historical data.">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Basket Lab - Mutual Fund Backtesting & Portfolio Allocation Analyzer">
    <meta name="twitter:description" content="Backtest Indian mutual fund baskets and analyze portfolio allocations. Compare different allocation strategies with historical data.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <!-- Fuse.js for fuzzy search -->
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0"></script>
    <!-- Pako for compression -->
    <script src="https://cdn.jsdelivr.net/npm/pako@2.1.0/dist/pako.min.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .chart-container {
            position: relative;
            height: 400px;
            width: 100%;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #e4e4e7;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #d4d4d8;
        }
    </style>
</head>

<body class="antialiased min-h-screen bg-zinc-50 text-zinc-950">

    <!-- Navbar -->
    <header
        class="sticky top-0 z-40 w-full border-b border-zinc-200 bg-white/75 backdrop-blur supports-[backdrop-filter]:bg-white/60">
        <div class="max-w-7xl mx-auto flex h-14 items-center justify-between px-6">
            <div class="flex items-center gap-2">
                <div
                    class="h-6 w-6 rounded-md bg-zinc-900 flex items-center justify-center text-white font-bold text-xs flex-shrink-0">
                    MF</div>
                <span class="font-semibold text-sm tracking-tight hidden md:inline">Basket Lab - Mutual Fund Backtesting & Portfolio Allocation Analyzer</span>
                <span class="font-semibold text-sm tracking-tight md:hidden">Basket Lab</span>
            </div>
            <div class="flex items-center gap-4">
                <button onclick="shareSettings()"
                    class="inline-flex items-center justify-center rounded-md text-xs font-medium transition-colors hover:bg-zinc-100 h-8 px-3 text-zinc-700 border border-zinc-200 bg-white shadow-sm gap-1.5">
                    <svg class="h-3.5 w-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z">
                        </path>
                    </svg>
                    Share
                </button>
                <div id="status-indicator" class="flex items-center gap-2 text-xs font-medium text-zinc-500">
                    <span class="relative flex h-2 w-2">
                        <span
                            class="animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-2 w-2 bg-amber-500"></span>
                    </span>
                    Initializing...
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto p-4 md:p-6 space-y-8">
        <!-- Top Controls Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">

            <!-- Left: Settings -->
            <div class="lg:col-span-4 space-y-6">
                <div class="bg-white border border-zinc-200 rounded-md shadow-sm p-6 space-y-6">
                    <div>
                        <h3 class="font-semibold leading-none tracking-tight">Investment Settings</h3>
                        <p class="text-sm text-zinc-500 mt-1.5">Configure your investment parameters.</p>
                    </div>

                    <!-- Mode Switch -->
                    <div class="grid grid-cols-2 p-1 bg-zinc-100 rounded-md">
                        <button onclick="setMode('lumpsum')" id="mode-lumpsum"
                            class="rounded-md py-1.5 text-sm font-medium transition-all bg-white text-zinc-950 shadow-sm">Lumpsum</button>
                        <button onclick="setMode('sip')" id="mode-sip"
                            class="rounded-md py-1.5 text-sm font-medium text-zinc-500 hover:text-zinc-900 transition-all">Monthly
                            SIP</button>
                    </div>

                    <div class="space-y-2">
                        <label id="amount-label" class="text-sm font-medium leading-none text-zinc-700">Total Investment
                            (₹)</label>
                        <input type="number" id="global-amount" value="100000" step="1"
                            class="flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-400 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 font-mono"
                            oninput="validateAmountInput(this)" onchange="updateAnalysis()">
                        <p id="amount-error" class="text-xs text-red-600 mt-1 hidden">Minimum amount should be ₹100</p>
                    </div>

                    <div class="space-y-2">
                        <label class="text-sm font-medium leading-none text-zinc-700">Time Horizon</label>
                        <div id="period-selector">
                            <!-- JS Generated -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right: Basket List -->
            <div class="lg:col-span-8">
                <div class="bg-white border border-zinc-200 rounded-md shadow-sm h-full flex flex-col">
                    <div class="p-6 border-b border-zinc-200 flex justify-between items-center">
                        <div>
                            <h3 class="font-semibold leading-none tracking-tight">Build a Custom Basket to Backtest</h3>
                            <p class="text-sm text-zinc-500 mt-1">Compare multiple strategies with differ allocations.</p>
                        </div>
                        <button onclick="resetBaskets()"
                            class="inline-flex items-center justify-center rounded-md text-xs font-medium transition-colors hover:bg-zinc-100 h-7 px-2 text-zinc-500">Reset
                            Defaults</button>
                    </div>

                    <!-- Compacted List Container -->
                    <div class="p-4 flex-grow overflow-y-auto max-h-[700px] space-y-2" id="basket-list">
                        <!-- JS Generated Baskets -->
                    </div>

                    <div class="p-4 pt-0 mt-auto">
                        <button onclick="openModal()"
                            class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-50 bg-zinc-900 text-white shadow-sm hover:bg-zinc-800 h-9 px-4 py-2 w-full">
                            <svg class="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 4v16m8-8H4"></path>
                            </svg>
                            Create New Basket
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Analysis Table -->
        <div class="bg-white border border-zinc-200 rounded-md shadow-sm overflow-hidden">
            <div class="p-6 border-b border-zinc-200">
                <h3 class="font-semibold leading-none tracking-tight">Performance Summary <span id="summary-period"
                        class="text-zinc-500 font-normal text-sm ml-2"></span></h3>
            </div>
            <div class="w-full overflow-auto">
                <table class="w-full text-sm caption-bottom">
                    <thead class="[&_tr]:border-b">
                        <tr class="border-b border-zinc-200 hover:bg-zinc-50/50">
                            <th class="h-10 px-4 text-left align-middle font-medium text-zinc-500 cursor-pointer hover:text-zinc-900"
                                onclick="toggleSort('name')">Basket Name <span id="sort-icon-name"
                                    class="ml-1 text-[10px]">↕</span></th>
                            <th class="h-10 px-4 text-right align-middle font-medium text-zinc-500 cursor-pointer hover:text-zinc-900"
                                onclick="toggleSort('initial')">Invested <span id="sort-icon-initial"
                                    class="ml-1 text-[10px]">↕</span></th>
                            <th class="h-10 px-4 text-right align-middle font-medium text-zinc-500 cursor-pointer hover:text-zinc-900"
                                onclick="toggleSort('final')">Current Value <span id="sort-icon-final"
                                    class="ml-1 text-[10px]">↕</span></th>
                            <th class="h-10 px-4 text-right align-middle font-medium text-zinc-500 cursor-pointer hover:text-zinc-900"
                                onclick="toggleSort('abs')">Abs Returns <span id="sort-icon-abs"
                                    class="ml-1 text-[10px]">↕</span></th>
                            <th class="h-10 px-4 text-right align-middle font-medium text-zinc-500 cursor-pointer hover:text-zinc-900"
                                onclick="toggleSort('cagr')">CAGR / XIRR <span id="sort-icon-cagr"
                                    class="ml-1 text-[10px]">↕</span></th>
                            <th class="h-10 px-4 text-right align-middle font-medium text-zinc-500 cursor-pointer hover:text-zinc-900"
                                onclick="toggleSort('mdd')">Max Drawdown <span id="sort-icon-mdd"
                                    class="ml-1 text-[10px]">↕</span></th>
                        </tr>
                    </thead>
                    <tbody id="stats-table-body">
                        <!-- JS Generated -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Charts Grid -->
        <div class="grid grid-cols-1 gap-8">
            <!-- Growth Chart -->
            <div class="bg-white border border-zinc-200 rounded-md shadow-sm p-6">
                <div class="flex flex-col space-y-1.5 mb-6">
                    <h3 class="font-semibold leading-none tracking-tight">Portfolio Value <span id="portfolio-period"
                            class="text-zinc-500 font-normal text-sm ml-2"></span></h3>
                    <p class="text-sm text-zinc-500">Growth trajectory over the selected time period.</p>
                </div>
                <div class="chart-container">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>

            <!-- Drawdown Chart -->
            <div class="bg-white border border-zinc-200 rounded-md shadow-sm p-6">
                <div class="flex flex-col space-y-1.5 mb-6">
                    <h3 class="font-semibold leading-none tracking-tight text-red-600">Max Drawdown (Risk) <span
                            id="drawdown-period" class="text-zinc-500 font-normal text-sm ml-2"></span></h3>
                    <p class="text-sm text-zinc-500">Percentage fall from peak portfolio value.</p>
                </div>
                <div class="chart-container">
                    <canvas id="drawdownChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Share URL Section -->
        <div class="bg-white border border-zinc-200 rounded-md shadow-sm overflow-hidden">
            <div class="p-6 border-b border-zinc-200">
                <h3 class="font-semibold leading-none tracking-tight">Copy this URL to share your current settings with others.</h3>
            </div>
            <div class="p-6">
                <div class="flex gap-3">
                    <div class="flex-1 relative">
                        <input type="text" id="share-url-input" readonly value=""
                            class="flex h-10 w-full rounded-md border border-zinc-200 bg-zinc-50 px-3 py-2 text-sm font-mono text-zinc-700 shadow-sm cursor-pointer hover:bg-zinc-100 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 select-all"
                            onclick="this.select()">
                    </div>
                    <button onclick="copyShareURL()"
                        class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/90 h-10 px-6 gap-2 whitespace-nowrap">
                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">
                            </path>
                        </svg>
                        Copy URL
                    </button>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-zinc-200 mt-16">
        <div class="max-w-7xl mx-auto px-6 py-8">
            <!-- Project GitHub Link -->
            <div class="mb-6 pb-6 border-b border-zinc-200">
                <a href="https://github.com/abhimanyu003/basket-lab" target="_blank" rel="noopener noreferrer" 
                   class="inline-flex items-center gap-2 text-sm font-medium text-zinc-900 hover:text-zinc-600 transition-colors group">
                    <div class="inline-flex items-center justify-center h-10 w-10 rounded-md border border-zinc-200 bg-white group-hover:bg-zinc-100 transition-colors">
                        <svg class="h-5 w-5 text-zinc-700" fill="currentColor" viewBox="0 0 24 24">
                            <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div>
                        <div class="font-semibold">View Project on GitHub</div>
                        <div class="text-xs text-zinc-500">Open source mutual fund basket analyzer</div>
                    </div>
                </a>
            </div>

            <div class="flex flex-col lg:flex-row justify-between items-start gap-8">
                <!-- Contributors -->
                <div class="flex-1">
                    <h3 class="text-sm font-semibold text-zinc-900 mb-4">Contributors</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                        
                        <!-- Contributor 1 -->
                        <div class="bg-zinc-50 border border-zinc-200 rounded-md p-4 hover:border-zinc-300 transition-colors">
                            <p class="font-medium text-sm text-zinc-900 mb-2">Abhimanyu Sharma</p>
                            <div class="flex items-center gap-2">
                                <a href="https://github.com/abhimanyu003" target="_blank" rel="noopener noreferrer" 
                                   class="inline-flex items-center justify-center h-8 w-8 rounded-md border border-zinc-200 bg-white hover:bg-zinc-900 hover:text-white transition-colors"
                                   title="GitHub Profile">
                                    <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                                        <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"/>
                                    </svg>
                                </a>
                                <a href="https://x.com/abhimanyu003" target="_blank" rel="noopener noreferrer" 
                                   class="inline-flex items-center justify-center h-8 w-8 rounded-md border border-zinc-200 bg-white hover:bg-black hover:text-white transition-colors"
                                   title="Twitter Profile">
                                    <svg class="h-3.5 w-3.5" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                                    </svg>
                                </a>
                                <a href="https://www.linkedin.com/in/abhimanyu003/" target="_blank" rel="noopener noreferrer" 
                                   class="inline-flex items-center justify-center h-8 w-8 rounded-md border border-zinc-200 bg-white hover:bg-blue-600 hover:text-white transition-colors"
                                   title="LinkedIn Profile">
                                    <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"/>
                                    </svg>
                                </a>
                            </div>
                        </div>

                        <!-- Contributor 2 -->
                        <div class="bg-zinc-50 border border-zinc-200 rounded-md p-4 hover:border-zinc-300 transition-colors">
                            <p class="font-medium text-sm text-zinc-900 mb-2">Kshitij Mehta</p>
                            <div class="flex items-center gap-2">
                                <a href="https://github.com/kshitijmehta" target="_blank" rel="noopener noreferrer" 
                                   class="inline-flex items-center justify-center h-8 w-8 rounded-md border border-zinc-200 bg-white hover:bg-zinc-900 hover:text-white transition-colors"
                                   title="GitHub Profile">
                                    <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                                        <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"/>
                                    </svg>
                                </a>
                                <a href="https://x.com/kshitijjazz" target="_blank" rel="noopener noreferrer" 
                                   class="inline-flex items-center justify-center h-8 w-8 rounded-md border border-zinc-200 bg-white hover:bg-black hover:text-white transition-colors"
                                   title="Twitter Profile">
                                    <svg class="h-3.5 w-3.5" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                                    </svg>
                                </a>
                                <a href="https://www.linkedin.com/in/kshitijkmehta/" target="_blank" rel="noopener noreferrer" 
                                   class="inline-flex items-center justify-center h-8 w-8 rounded-md border border-zinc-200 bg-white hover:bg-blue-600 hover:text-white transition-colors"
                                   title="LinkedIn Profile">
                                    <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"/>
                                    </svg>
                                </a>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Disclaimer -->
                <div class="flex-1 md:max-w-2xl">
                    <div class="bg-amber-50 border border-amber-200 rounded-md p-4">
                        <div class="flex gap-2">
                            <svg class="h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                            </svg>
                            <div>
                                <h4 class="text-xs font-semibold text-amber-900 mb-1">Disclaimer</h4>
                                <p class="text-xs text-amber-800 leading-relaxed">
                                    This tool is for educational and informational purposes only. Past performance does not guarantee future results. 
                                    The data is sourced from public APIs and may contain inaccuracies. This is not financial advice. 
                                    Please consult with a qualified financial advisor before making any investment decisions. 
                                    The contributors assume no responsibility for any financial losses incurred from using this tool.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Copyright -->
            <div class="mt-6 pt-6 border-t border-zinc-200 text-center">
                <p class="text-xs text-zinc-500">Mutual Fund Backtesting Tool. Made with ❤️ for Indian investors.</p>
            </div>
        </div>
    </footer>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-6 right-6 z-50 hidden">
        <div
            class="bg-zinc-900 text-white px-4 py-3 rounded-md shadow-lg flex items-center gap-3 animate-in slide-in-from-bottom-5 duration-300">
            <svg class="h-5 w-5 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span id="toast-message" class="text-sm font-medium">Link copied to clipboard!</span>
        </div>
    </div>

    <!-- Modal (Dialog) -->
    <div id="modal-overlay"
        class="fixed inset-0 z-50 bg-zinc-950/80 backdrop-blur-sm hidden flex items-center justify-center p-4 sm:p-6 transition-all duration-200">
        <div
            class="relative w-full max-w-4xl bg-white rounded-md border border-zinc-200 shadow-2xl flex flex-col min-h-[80vh] animate-in fade-in zoom-in-95 duration-200">

            <!-- Modal Header -->
            <div class="flex flex-col space-y-1.5 p-6 border-b border-zinc-200">
                <div class="flex items-center justify-between">
                    <h3 class="font-semibold text-lg leading-none tracking-tight">Configure Basket</h3>
                    <button onclick="closeModal()"
                        class="rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2">
                        <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M18 6 6 18" />
                            <path d="m6 6 12 12" />
                        </svg>
                        <span class="sr-only">Close</span>
                    </button>
                </div>
                <p class="text-sm text-zinc-500">Adjust fund weights or add new funds. Total allocation must be 100%.
                </p>
            </div>

            <!-- Modal Content -->
            <div class="p-6 space-y-6 overflow-y-auto flex-grow">

                <div class="grid grid-cols-1 sm:grid-cols-4 gap-6">
                    <div class="sm:col-span-3 space-y-2">
                        <label class="text-sm font-medium leading-none">Basket Name</label>
                        <input type="text" id="modal-basket-name"
                            class="flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950">
                    </div>
                    <div class="sm:col-span-1 space-y-2">
                        <label class="text-sm font-medium leading-none">Color Theme</label>
                        <!-- SWATCH CONTAINER -->
                        <div id="color-swatch-container" class="flex flex-wrap gap-2 pt-1">
                            <!-- JS Will Populate Swatches -->
                        </div>
                        <input type="hidden" id="modal-basket-color">
                    </div>
                </div>

                <div class="space-y-2 relative">
                    <label class="text-sm font-medium leading-none">Add Fund</label>
                    <div class="relative">
                        <svg class="absolute left-2.5 top-2.5 h-4 w-4 text-zinc-500" xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="11" cy="11" r="8" />
                            <path d="m21 21-4.3-4.3" />
                        </svg>
                        <input type="text" id="fund-search-input"
                            placeholder="Search MFAPI (e.g. Parag Parikh, HDFC)..."
                            class="flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 pl-9 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950"
                            onkeyup="handleSearch(event)">
                    </div>
                    <!-- Search Results Dropdown -->
                    <div id="search-results"
                        class="absolute top-full left-0 z-50 w-full mt-1 overflow-hidden rounded-md border border-zinc-200 bg-white shadow-lg hidden max-h-96 overflow-y-auto">
                    </div>
                </div>

                <div class="space-y-3">
                    <div class="flex items-center justify-between">
                        <label class="text-sm font-medium leading-none">Allocation</label>
                        <span
                            class="inline-flex items-center rounded-md border border-blue-200 bg-blue-50 px-2.5 py-0.5 text-xs font-semibold text-blue-700 gap-1">
                            <svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                            Auto-Balance
                        </span>
                    </div>

                    <div class="rounded-md border border-zinc-200 overflow-hidden">
                        <table class="w-full text-sm">
                            <thead class="bg-zinc-50/50">
                                <tr class="border-b border-zinc-200">
                                    <th class="h-9 px-3 text-left align-middle font-medium text-zinc-500 w-[55%]">Fund
                                        Name</th>
                                    <th class="h-9 px-3 text-right align-middle font-medium text-zinc-500 w-[20%]">
                                        Weight (%)</th>
                                    <th class="h-9 px-3 text-center align-middle font-medium text-zinc-500 w-[12.5%]">
                                        Lock</th>
                                    <th class="h-9 px-3 text-center align-middle font-medium text-zinc-500 w-[12.5%]">
                                        Del</th>
                                </tr>
                            </thead>
                            <tbody id="modal-fund-rows">
                                <!-- Rows -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Modal Footer -->
            <div class="p-6 border-t border-zinc-200 bg-zinc-50/50 flex justify-between items-center rounded-b-xl">
                <div class="flex items-center gap-2">
                    <span class="text-sm font-medium text-zinc-600">Total:</span>
                    <span id="modal-total-alloc" class="text-lg font-bold">0%</span>
                </div>
                <div class="flex gap-2">
                    <button onclick="closeModal()"
                        class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 border border-zinc-200 bg-white shadow-sm hover:bg-zinc-100 hover:text-zinc-900 h-9 px-4 py-2">Cancel</button>
                    <button onclick="saveBasketFromModal()"
                        class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/90 h-9 px-4 py-2">Save
                        Basket</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/cache.js"></script>
    <script src="js/data.js"></script>
    <script src="js/calculations.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/modal.js"></script>
    <script src="js/url.js"></script>
    <script src="js/app.js"></script>
</body>

</html>